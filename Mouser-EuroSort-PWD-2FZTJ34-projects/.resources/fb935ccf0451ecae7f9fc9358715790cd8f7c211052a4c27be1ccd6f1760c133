"""
	Incoming WCS request handler

"""
from shared.tools.logging import Logger; Logger().trace('Compiling module')
from shared.tools.global import ExtraGlobal

from eurosort.api.base import LoggedEndpoint

class EuroSort_State(LoggedEndpoint):
	WEBDEV_ENDPOINT = 'v1/chute_data'


@EuroSort_State.GET('{sorter_name}')
def get_chute_data(payload, params, **url_tokens):

	sorter_name = url_tokens['sorter_name']

	sorter = ExtraGlobal[sorter_name: 'EuroSort-Service']

	return sorter._generate_contents_json()